# ====================================================================
# MINIFUN Backend - Configuración de Entorno
# ====================================================================
# Copia este archivo como .env y configura las variables según tu entorno
# NO subas el archivo .env a git - contiene información sensible

# ====================================================================
# ENTORNO DE EJECUCIÓN
# ====================================================================

# Entorno de la aplicación: development | production | test
# - development: Logging verbose, rate limiting relajado
# - production: Logging mínimo, rate limiting estricto, seguridad máxima
NODE_ENV=development

# Puerto en el que escuchará el servidor
PORT=3000

# ====================================================================
# BASE DE DATOS MYSQL
# ====================================================================

# Host de la base de datos
# - Desarrollo local: localhost
# - Docker: nombre del contenedor (ej: mysql_container)
# - Producción: dirección del servidor MySQL o RDS
DB_HOST=localhost

# Nombre de la base de datos
# Debe crearse manualmente antes de iniciar el servidor
DB_NAME=minifun

# Usuario de MySQL
# - Desarrollo: root (no recomendado pero común)
# - Producción: usuario específico con permisos mínimos necesarios
DB_USER=root

# Contraseña de MySQL
# - Desarrollo: puede estar vacía
# - Producción: DEBE ser una contraseña fuerte
DB_PASSWORD=

# ====================================================================
# AUTENTICACIÓN JWT
# ====================================================================

# Secreto para firmar tokens JWT
# CRÍTICO: En producción, debe ser una cadena aleatoria y segura
# Genera uno con: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# NO uses el valor por defecto en producción
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Tiempo de expiración del token JWT
# Ejemplos: 15m, 1h, 7d, 30d
# Considera el balance entre seguridad (menos tiempo) y UX (más tiempo)
JWT_EXPIRES_IN=7d

# ====================================================================
# CORS (Cross-Origin Resource Sharing)
# ====================================================================

# Dominios permitidos para hacer peticiones a la API
# - Desarrollo: * (todos los orígenes)
# - Producción: dominio específico de tu frontend
# Ejemplos:
#   CORS_ORIGIN=*
#   CORS_ORIGIN=https://minifun.com
#   CORS_ORIGIN=https://minifun.com,https://www.minifun.com
CORS_ORIGIN=*

# ====================================================================
# CONFIGURACIÓN DE EMAIL (Verificación de cuentas con Resend)
# ====================================================================

# API Key de Resend (empieza con re_...)
# Cómo obtener tu API Key:
# 1. Ve a https://resend.com y crea una cuenta gratis
# 2. En el dashboard, ve a "API Keys"
# 3. Crea una nueva API Key con el nombre "MINIFUN Backend"
# 4. Copia el API Key (empieza con re_...)
# IMPORTANTE: Solo se muestra una vez, guárdala de forma segura
RESEND_API_KEY=re_123456789

# Remitente que aparecerá en los emails
# Opciones:
# - Dominio de Resend (gratis): "MINIFUN <onboarding@resend.dev>"
# - Tu dominio verificado: "MINIFUN <noreply@tu-dominio.com>"
# Formato: "Nombre" <email@dominio.com>
EMAIL_FROM="MINIFUN <onboarding@resend.dev>"

# URL del frontend para los enlaces de verificación
# Desarrollo local: http://localhost:3000
# Producción: https://backend-minifun.onrender.com (o tu dominio)
FRONTEND_URL=https://backend-minifun.onrender.com

# ====================================================================
# CONFIGURACIÓN ADICIONAL (Opcional)
# ====================================================================

# Nivel de logging para Winston
# Opciones: error, warn, info, debug
# LOG_LEVEL=info

# Máximo de conexiones al pool de MySQL
# DB_POOL_MAX=5

# Mínimo de conexiones al pool de MySQL
# DB_POOL_MIN=0

# ====================================================================
# NOTAS IMPORTANTES
# ====================================================================
#
# 1. SEGURIDAD:
#    - Nunca subas el archivo .env al control de versiones
#    - Usa variables de entorno del sistema en producción
#    - Cambia JWT_SECRET antes de desplegar
#    - Usa contraseñas fuertes para DB_PASSWORD
#
# 2. DESARROLLO:
#    - Puedes usar valores por defecto para probar localmente
#    - Crea la base de datos MySQL antes de iniciar:
#      CREATE DATABASE minifun CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
#
# 3. PRODUCCIÓN:
#    - Configura NODE_ENV=production
#    - Usa servicios de gestión de secretos (AWS Secrets Manager, etc.)
#    - Habilita HTTPS y configura CORS correctamente
#    - Usa un usuario de BD con permisos mínimos
#
# ====================================================================
