# ====================================================================
# MINIFUN Backend - Configuración de Entorno
# ====================================================================
# Copia este archivo como .env y configura las variables según tu entorno
# NO subas el archivo .env a git - contiene información sensible

# ====================================================================
# ENTORNO DE EJECUCIÓN
# ====================================================================

# Entorno de la aplicación: development | production | test
# - development: Logging verbose, rate limiting relajado
# - production: Logging mínimo, rate limiting estricto, seguridad máxima
NODE_ENV=development

# Puerto en el que escuchará el servidor
PORT=3000

# ====================================================================
# BASE DE DATOS MYSQL
# ====================================================================

# Host de la base de datos
# - Desarrollo local: localhost
# - Docker: nombre del contenedor (ej: mysql_container)
# - Producción: dirección del servidor MySQL o RDS
DB_HOST=localhost

# Nombre de la base de datos
# Debe crearse manualmente antes de iniciar el servidor
DB_NAME=minifun

# Usuario de MySQL
# - Desarrollo: root (no recomendado pero común)
# - Producción: usuario específico con permisos mínimos necesarios
DB_USER=root

# Contraseña de MySQL
# - Desarrollo: puede estar vacía
# - Producción: DEBE ser una contraseña fuerte
DB_PASSWORD=

# ====================================================================
# AUTENTICACIÓN JWT
# ====================================================================

# Secreto para firmar tokens JWT
# CRÍTICO: En producción, debe ser una cadena aleatoria y segura
# Genera uno con: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# NO uses el valor por defecto en producción
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Tiempo de expiración del token JWT
# Ejemplos: 15m, 1h, 7d, 30d
# Considera el balance entre seguridad (menos tiempo) y UX (más tiempo)
JWT_EXPIRES_IN=7d

# ====================================================================
# CORS (Cross-Origin Resource Sharing)
# ====================================================================

# Dominios permitidos para hacer peticiones a la API
# - Desarrollo: * (todos los orígenes)
# - Producción: dominio específico de tu frontend
# Ejemplos:
#   CORS_ORIGIN=*
#   CORS_ORIGIN=https://minifun.com
#   CORS_ORIGIN=https://minifun.com,https://www.minifun.com
CORS_ORIGIN=*

# ====================================================================
# CONFIGURACIÓN DE EMAIL (Verificación de cuentas)
# ====================================================================

# Servidor SMTP de Gmail
EMAIL_HOST=smtp.gmail.com

# Puerto SMTP (587 para TLS, 465 para SSL)
EMAIL_PORT=587

# Tu dirección de email de Gmail
# IMPORTANTE: Usa una cuenta de Gmail específica para la aplicación
EMAIL_USER=tu-correo@gmail.com

# App Password de Gmail (NO tu contraseña normal)
# Cómo obtener App Password:
# 1. Ve a https://myaccount.google.com/security
# 2. Activa "Verificación en 2 pasos" si no está activa
# 3. Ve a "Contraseñas de aplicaciones"
# 4. Genera una contraseña para "Correo" / "Otro (nombre personalizado)"
# 5. Copia la contraseña de 16 caracteres (sin espacios)
EMAIL_PASSWORD=xxxx xxxx xxxx xxxx

# Remitente que aparecerá en los emails
# Formato: "Nombre" <email@example.com>
EMAIL_FROM="MINIFUN" <tu-correo@gmail.com>

# URL del frontend para los enlaces de verificación
# Desarrollo: http://localhost:3000
# Producción: https://tu-dominio.com
FRONTEND_URL=http://localhost:3000

# ====================================================================
# CONFIGURACIÓN ADICIONAL (Opcional)
# ====================================================================

# Nivel de logging para Winston
# Opciones: error, warn, info, debug
# LOG_LEVEL=info

# Máximo de conexiones al pool de MySQL
# DB_POOL_MAX=5

# Mínimo de conexiones al pool de MySQL
# DB_POOL_MIN=0

# ====================================================================
# NOTAS IMPORTANTES
# ====================================================================
#
# 1. SEGURIDAD:
#    - Nunca subas el archivo .env al control de versiones
#    - Usa variables de entorno del sistema en producción
#    - Cambia JWT_SECRET antes de desplegar
#    - Usa contraseñas fuertes para DB_PASSWORD
#
# 2. DESARROLLO:
#    - Puedes usar valores por defecto para probar localmente
#    - Crea la base de datos MySQL antes de iniciar:
#      CREATE DATABASE minifun CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
#
# 3. PRODUCCIÓN:
#    - Configura NODE_ENV=production
#    - Usa servicios de gestión de secretos (AWS Secrets Manager, etc.)
#    - Habilita HTTPS y configura CORS correctamente
#    - Usa un usuario de BD con permisos mínimos
#
# ====================================================================
